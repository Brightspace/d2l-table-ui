<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="d2l-scroll-wrapper.html">
<link rel="import" href="d2l-table-style.html">
<link rel="import" href="d2l-table-col-sort-button.html">
<link rel="import" href="../d2l-colors/d2l-colors.html">

<link rel="import" href="d2l-tbody.html">
<link rel="import" href="d2l-td.html">
<link rel="import" href="d2l-tfoot.html">
<link rel="import" href="d2l-th.html">
<link rel="import" href="d2l-thead.html">
<link rel="import" href="d2l-tr.html">

<!--
# D2L Table

## Usage
```
	<link rel="import" href="d2l-table.html">
	<d2l-table-wrapper>
		<table class="d2l-table">
		<thead>
			<tr>
				<th>Table header cell</th>
			</tr>
		</thead>
		<tfoot>
			<tr>
				<th>Table header cell</th>
			</tr>
		</tfoot>
		<tbody>
			<tr>
				<td>Table cell</td>
			</tr>
		</tbody>
	    </table>
    </d2l-table-wrapper>
```

### Table attributes

Attribute | Description
----------|-------------
`selectable` | Add hover effect for rows

### Row Attributes

Attribute | Description
----------|-------------
`selected` | Apply selected style
`active` | Apply active style
`header` | Apply header style
`last-row` | This row is to be treated as the bottom row in the case where CSS can't detect it. This should only happen if the last row(s) are hidden from view, and the table has no footer

## Styling

Custom property | Description | Default
----------------|-------------|----------
`--d2l-table-border-color` | Border Color | `var(--d2l-color-mica)` |
`--d2l-table-border-radius` | Corner Border Radius | `0.3rem` |
`--d2l-table-border` | Border | `1px solid var(--d2l-table-border-color);` |
`--d2l-table-header-background-color` | Header background color (th elements under `<thead>` or `<tr header>`) | `var(--d2l-color-regolith);` |
`--d2l-table-body-background-color` | Body background color (non-header) | `#fff` |
`--d2l-table-row-background-color-active` | Active row background color | `var(--d2l-color-celestine-plus-2)` |
`--d2l-table-row-border-color-selected` | Selected row border color | `var(--d2l-color-celestine-plus-1)` |
`--d2l-table-row-border-color-active-selected` | Active and Selected row border color | `var(--d2l-color-celestine-plus-1)` |
`--d2l-table-row-background-color-active-selected` | Active and Selected row background color | `#EBF5FC` |
`--d2l-table-row-background-color-selected` | Selected row background color | `var(--d2l-color-celestine-plus-2)` |
`--d2l-table-border-overflow` | Border to show when the table overflows | `dashed 1px #d3d9e3` |
`--d2l-table-outer-border` | Border to show around the table | `var(--d2l-table-border)` |
`--d2l-table-outer-row-border-color-selected` | Border color of selected rows around the table | `var(--d2l-table-row-border-color-selected)` |
`--d2l-table-outer-row-border-color-active-selected` | Border color of active and selected rows around the table | `var(--d2l-table-row-border-color-active-selected)` |

```
	<link rel="import" href="d2l-table.html">
	<custom-style>
	<style is="custom-style">
		.ugly-table {
			--d2l-table-border-color: purple
			--d2l-table-border-radius: 0;
			--d2l-table-header-background-color: grey;
			--d2l-table-body-background-color: blue;
			--d2l-table-row-background-color-active: black;
			--d2l-table-row-border-color-active-selected: red;
			--d2l-table-row-background-color-active-selected: red;
			--d2l-table-row-border-color-selected: black;
			--d2l-table-row-background-color-selected: black;
			--d2l-table-border-overflow: none;
		}

		/* tweak default border radius for all tables on the page. No d2l-table-wrapper
		   element is required */
		html {
			--d2l-table-border-radius: 0.4rem;
		}
	</style>
	</custom-style>
	<d2l-table-wraper class="ugly-table">
		<table class="d2l-table">
			<thead>
				<tr>
					<th>Table header cell</th>
				</tr>
			</thead>
			<tfoot>
				<tr>
					<th>Table header cell</th>
				</tr>
			</tfoot>
			<tbody>
				<tr>
					<td>Table cell</td>
				</tr>
			</tbody>
		</table>
	</d2l-table-wrapper>
```


@demo demo/index.html      Table demo
@demo demo/index.rtl.html  RTL Table demo
@demo demo/responsive.html Identical tables with different widths
-->
<dom-module id="d2l-table-wrapper">
	<template strip-whitespace>
		<style>
			:host {
				background-color: transparent;
				display: block;
				width: 100%;
				--d2l-table-border-color: var(--d2l-color-mica);
				--d2l-table-header-background-color: var(--d2l-color-regolith);
				--d2l-table-border-overflow: dashed 1px #d3d9e3;
			}
			d2l-scroll-wrapper {
				--d2l-scroll-wrapper-h-scroll: {
					border-left: var(--d2l-table-border-overflow);
					border-right: var(--d2l-table-border-overflow);
				};
				--d2l-scroll-wrapper-h-scroll-focus: {
					border-left: var(--d2l-table-border-overflow-focus);
					border-right: var(--d2l-table-border-overflow-focus);
				};
				--d2l-scroll-wrapper-left: {
					border-left: none;
				};
				--d2l-scroll-wrapper-right: {
					border-right: none;
				};
				--d2l-scroll-wrapper-border-color: var(--d2l-table-border-color);
				--d2l-scroll-wrapper-background-color: var(--d2l-table-header-background-color);
			}
		</style>
		<d2l-scroll-wrapper show-actions>
			<slot></slot>
		</d2l-scroll-wrapper>
	</template>
	<script>
		Polymer({
			is: 'd2l-table-wrapper',
			notifyResize: function() {
				this.$$('d2l-scroll-wrapper').notifyResize();
			}
		});
	</script>
</dom-module>

<dom-module id="d2l-table">
	<template strip-whitespace>
		<style>
			:host {
				@apply --d2l-table;
				display: inline-block;
				--d2l-table-border-color: var(--d2l-color-mica);
				--d2l-table-header-background-color: var(--d2l-color-regolith);
				--d2l-table-border-overflow: dashed 1px #d3d9e3;
			}
			d2l-scroll-wrapper {
				--d2l-scroll-wrapper-h-scroll: {
					border-left: var(--d2l-table-border-overflow);
					border-right: var(--d2l-table-border-overflow);
				};
				--d2l-scroll-wrapper-h-scroll-focus: {
					border-left: var(--d2l-table-border-overflow-focus);
					border-right: var(--d2l-table-border-overflow-focus);
				};
				--d2l-scroll-wrapper-left: {
					border-left: none;
				};
				--d2l-scroll-wrapper-right: {
					border-right: none;
				};
				--d2l-scroll-wrapper-border-color: var(--d2l-table-border-color);
				--d2l-scroll-wrapper-background-color: var(--d2l-table-header-background-color);
			}
		</style>
		<d2l-scroll-wrapper show-actions>
			<slot></slot>
		</d2l-scroll-wrapper>
	</template>
	<script>
		Polymer({
			is: 'd2l-table',
			notifyResize: function() {
				this.$$('d2l-scroll-wrapper').notifyResize();
			}
		});
	</script>
</dom-module>
